<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .sneakers {
            display: flex;
        }

        .sneakers-item {
            text-align: center;
            margin: 0 20px;

        }

    </style>
</head>
<body>
<h1>Sneakers</h1>
<div class="sneakers">
    <div class="sneakers-item">

        <a href="../basket.html?productNameML725AG&productPrice=129000&imageUrl=images/스니커즈/man/ML725AG.pn" target="_blank" class="product-info" data="ML725AG">
            <img src="../images/스니커즈/man/ML725AG.png "></a>
        <p class="product-name">ML725AG</p>
        <p class="product-price">129,000</p>
    </div>
    <div class="sneakers-item">
        <a href="../basket.html?productName=우먼스 아니키 이-시리즈 AD&productPrice=89000&imageUrl=images/Sneakers/우먼스_아니키_이시리즈_AD.png" target="_blank" data="우먼스 아니키 이-시리즈 AD">
            <img src="images/Sneakers/우먼스_아니키_이시리즈_AD.png"></a>
        <p class="product-name">우먼스 아니키 이-시리즈 AD</p>
        <p class="product-price">89,000</p>
    </div>
    <div class="sneakers-item">
        <a href="../basket.html?productName=트리플 캔버스&productPrice=69000&imageUrl=images/Sneakers/트리플_캔버스.png" target="_blank" data="트리플 캔버스">
            <img src="images/Sneakers/트리플_캔버스.png"></a>
        <p class="product-name">트리플 캔버스</p>
        <p class="product-price">69,000</p>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Initialize clickCounts to store the click data
    let clickCounts ={};

    document.querySelectorAll('.sneakers-item img').forEach(function (img) {
        img.addEventListener('click', function () {

            if (JSON.parse(localStorage.getItem('data')) === null){
                // 로컬 스토리지에 이전 저장 내역이 없으면 생성
                clickCounts = {}
            }else {
                // 로컬 스토리지에 이전 저장 내역이 있으면 불러와서 저장
                clickCounts = JSON.parse(localStorage.getItem('data'));
            }


            // 상품 등록 및 증감 작업 수행
            const productName = this.closest('.sneakers-item').querySelector('.product-name').textContent;
            // clickCounts[productName] = (clickCounts[productName] || 0) + 1;
            if(productName in clickCounts){
                // 로컬 데이터에 이미 등록된 상품인 경우 1 추가
                clickCounts[productName] = clickCounts[productName] + 1;
            }else {
                // 등록되지 않은 상품을 클릭한 경우 : 첫클릭이기에 값을 1로 할당
                clickCounts[productName] = 1
            }

            // 증감 내역을 로컬 스토리지에 업로드
            localStorage.setItem('data', JSON.stringify(clickCounts));
        });
    });




    // Event listener for image clicks
    // document.querySelectorAll('.sneakers-item img').forEach(function (img) {
    //     img.addEventListener('click', function () {
    //
    //
    //         const productName = this.closest('.sneakers-item').querySelector('.product-name').textContent;
    //         clickCounts[productName] = (clickCounts[productName] || 0) + 1;
    //        // localStorage.clicks=clickCounts[productName];
    //        // localStorage.productName=productName;
    //
    //         function productClick(productName) {
    //             let clicks = localStorage.getItem('clicks') ? parseInt(localStorage.getItem('clicks')) : 0;
    //             clicks++;
    //             localStorage.setItem('clicks', clicks);
    //             localStorage.setItem('productName', productName);
    //
    //         }
    //     });
    // });
    // localStorage.clicks=3;
    // alert(localStorage.clicks);

</script>


</body>
</html>